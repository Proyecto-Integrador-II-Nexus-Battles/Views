<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inventario</title>
  <link rel="stylesheet" href="/inventario/css/visualizacion.css">
</head>

<body>
  <!-- Header -->
  <header>
    <section class="nav">
      <img src="/inventario/imagenes/logo_nb2_v2.png" class="logo_img" alt="">
      <!-- Barra de navegación -->
      <img src="/inventario/imagenes/hamburguer_icon.svg" class="abrir-btn" alt="">
      <nav class="" id="navbar">
        <ul class="opciones">
          <li><a href="#" onclick="miCuenta()">Mi cuenta</a></li>
          <li><a href="#">Mi banco</a></li>
          <li><a href="#">Subasta</a></li>
          <li><a href="/jugarOnline" onclick="jugarOnline()">Jugar online</a></li>
          <li><a href="#">Torneo</a></li>
          <li><a href="#">Resumen Flotante</a></li>
          <li><a href="#">Lista Deseos</a></li>
          <li class="cerrar-sesion"><a href="#"><button id="login_btn">Cerrar Sesión</button></a></li>
        </ul>
      </nav>
    </section>
  </header>
  <!-- Vitrina de productos -->
  <main>

<!-- Cartas -->

      <div class="container_general">
        <button class="agregar" onclick="abrir()">Agregar Carta</button>
        <div class="list">
          <%
          // Mapeo de subtipos a imágenes y tipo de icono
          const subtipoImagen = {
            "Armas": "/inventario/imagenes/espadas.png",
            "Tanque": "/inventario/imagenes/blindaje.png",
            "Fuego": "/inventario/imagenes/Fuego.png",
            "Hielo": "/inventario/imagenes/hielo.png",
            "Veneno": "/inventario/imagenes/veneno.png",
            "Machete": "/inventario/imagenes/machete.png"
          };

          const subtipoIcono = {
            "Hero": "foto",
            "Item": "foto",
            "Armor": "foto",
            "Talent": "foto",
            "Weapon": "foto"
          };

          for (let i = 0; i < datos.length; i++) {
            const carta = datos[i];
            const imagen = subtipoImagen[carta.Subtype];
            const tipoIcono = subtipoIcono[carta.TypeCard];
          %>

          <div class="card">
            <div class="imagen_carta">
              <!-- <img src="<%= carta.imagePath %>" class="personaje" /> -->
              <img src="inventario/imagenes/cedric.jpg" class="personaje" />
            </div>
            <div class="informacion_carta">
              <div id="nombre">
                <p><%= carta.Name %></p>
                <img src="<%= imagen %>" class="<%= tipoIcono %>" />
              </div>
              <% if (carta.TypeCard === "Hero") { %>
                <p>Poder: <%= carta.Power %></p>
                <p>Vida: <%= carta.Live %></p>
                <p>Defensa: <%= carta.Defense %></p>
                <p>Ataque: <%= carta.AttackBase %></p>
                <p>Daño: <%= carta.DamageSides %></p>
              <% } else if (carta.TypeCard === "Item") { %>
                <%
                switch (carta.Subtype) {
                  case "Tanque":
                    %>
                    <p id="cart">Buff: <%= carta.DamageBuff %></p>
                    <p id="cart2">Poder: <%= carta.EnemyDamageNerf %></p><%
                    break;
                  case "Veneno":
                    %><p id="cart">Buff: <%= carta.DamageBuff %></p>
                    <p id="cart2">Buff: <%= carta.EnemyDamageNerf %></p><%
                    break;
                  case "Machete":
                    %><p id="cart">Buff: <%= carta.DamageBuff %></p>
                    <p id="cart2">Buff: <%= carta.EnemyDamageNerf %></p><%
                    break;
                  case "Hielo":
                  %><p id="cart">Buff: <%= carta.DamageBuff %></p>
                  <p id="cart2">Buff: <%= carta.EnemyDamageNerf %></p><%
                  break;
                  case "Fuego":
                    %><p id="cart">Buff: <%= carta.DamageBuff %></p>
                    <p id="cart2">Buff: <%= carta.EnemyDamageNerf %></p><%
                    break;
                  case "Armas":
                    %><p id="cart">Poder: <%= carta.DamageBuff %></p>
                      <p id="cart2">Vida: <%= carta.EnemyDamageNerf %></p><%
                    break;
                  default:
                    break;
                }
                %>
              <% } else if (carta.TypeCard === "Armor") { %>
                <%
                switch (carta.Subtype) {
                  case "Tanque":
                    %>
                    <p id="cart">Buff: <%= carta.DefenseBuff %></p>
                    <p id="cart2">Poder: <%= carta.DamageBuff %></p><%
                    break;
                    case "Machete":
                    %><p id="cart">Buff: <%= carta.DefenseBuff %></p>
                    <p id="cart2">Buff: <%= carta.EnemyDamageNerf %></p><%
                    break;
                  case "Veneno":
                    %><p id="cart">Buff: <%= carta.DefenseBuff %></p>
                    <p id="cart2">Buff: <%= carta.DamageBuff %></p><%
                    break;
                  case "Hielo":
                    %><p id="cart">Buff: <%= carta.DefenseBuff %></p>
                    <p id="cart2">Buff: <%= carta.DamageBuff %></p><%
                    break;
                  case "Fuego":
                    %><p id="cart">Buff: <%= carta.DefenseBuff %></p>
                    <p id="cart2">Buff: <%= carta.DamageBuff %></p><%
                    break;
                  case "Armas":
                    %><p id="cart">Poder: <%= carta.DefenseBuff %></p>
                    <p id="cart2">Buff: <%= carta.DamageBuff %></p><%
                    break;
                  default:
                    break;
                }
                %>
              <% } else if (carta.TypeCard === "Weapon") { %>
                <%
                switch (carta.Subtype) {
                  case "Tanque":
                    %><p>Ataque: <%= carta.AttackBuff %></p>
                    <p>Daño: <%= carta.DamageBuff %></p>
                    <p>Defensa: <%= carta.DefenseBuff %></p>
                    <p>Daño enemigo: <%= carta.EnemyDamageNerf %></p><%
                    break;
                  case "Veneno":
                  %><p>Ataque: <%= carta.AttackBuff %></p>
                  <p>Daño: <%= carta.DamageBuff %></p>
                  <p>Defensa: <%= carta.DefenseBuff %></p>
                  <p>Daño enemigo: <%= carta.EnemyDamageNerf %></p><%
                  break;
                  case "Hielo":
                  %><p>Ataque: <%= carta.AttackBuff %></p>
                  <p>Daño: <%= carta.DamageBuff %></p>
                  <p>Defensa: <%= carta.DefenseBuff %></p>
                  <p>Daño enemigo: <%= carta.EnemyDamageNerf %></p><%
                  break;
                  case "Fuego":
                  %><p>Ataque: <%= carta.AttackBuff %></p>
                  <p>Daño: <%= carta.DamageBuff %></p>
                  <p>Defensa: <%= carta.DefenseBuff %></p>
                  <p>Daño enemigo: <%= carta.EnemyDamageNerf %></p><%
                  break;
                  case "Armas":
                  %><p>Ataque: <%= carta.AttackBuff %></p>
                  <p>Daño: <%= carta.DamageBuff %></p>
                  <p>Defensa: <%= carta.DefenseBuff %></p>
                  <p>Daño enemigo: <%= carta.EnemyDamageNerf %></p><%
                  break;
                  case "Machete":
                  %><p>Ataque: <%= carta.AttackBuff %></p>
                  <p>Daño: <%= carta.DamageBuff %></p>
                  <p>Defensa: <%= carta.DefenseBuff %></p>
                  <p>Daño enemigo: <%= carta.EnemyDamageNerf %></p><%
                  break;
                }
                %>
              <% } else if (carta.TypeCard === "Talent") { %>
                <%
                switch (carta.Subtype) {
                  case "Tanque":
                    %>
                    <p id="cart">Buff: <%= carta.NormalLiveBuff %></p>
                    <p id="cart2">Buff: <%= carta.EspecialDamageBuff %></p><%
                    break;
                  case "Veneno":
                    %><p id="cart">Buff: <%= carta.NormalLiveBuff %></p>
                    <p id="cart2">Buff: <%= carta.EspecialDamageBuff %></p><%
                    break;
                  case "Hielo":
                    %><p id="cart">Buff: <%= carta.NormalLiveBuff %></p>
                    <p id="cart2">Buff: <%= carta.EspecialDamageBuff %></p>
                    <%
                    break;
                  case "Fuego":
                    %><p id="cart">Buff: <%= carta.NormalLiveBuff %></p>
                    <p id="cart2">Buff: <%= carta.EspecialDamageBuff %></p><%
                    break;
                  case "Armas":
                    %><p id="cart">Poder: <%= carta.NormalLiveBuff %></p>
                    <p id="cart2">Buff: <%= carta.EspecialDamageBuff %></p><%
                    break;
                  case "Machete":
                    %><p id="cart">Poder: <%= carta.NormalLiveBuff %></p>
                    <p id="cart2">Buff: <%= carta.EspecialDamageBuff %></p>
                    <%
                    break;
                }
                %>
              <% }%>
              <div class="botones">
                <div class="modificar">
                  <button>Suspender</button>
                  <button onclick="modificacionCarta()">Modificar</button>
                </div>
              </div>
            </div>
          </div>

          <% } %>
<!-- PAGINACIÖN -->
<div class="paginas">
        <ul class="listPage">
            <li class="active">1</li>
            <li>2</li>
            <li>3</li>
        </ul>
</div>
        </div>
      </div>
      </div>
    </div>
      <div class="wrapper" id="modal-toast">
        <div class="toast">
          <div class="content">
            <div class="details">
              <span>ALERTA!</span>
              <p>Cambios correctamente realizados</p>
            </div>
          </div>
        </div>
    </div>
    <div id="tipocarta" class="ventana-emergente">
      <div class="contenido-ventana">
        <span class="cerrar" onclick="cerrar()">&times;</span>
        <div class="button">
          <button onclick="a()">Heroe</button>
          <button onclick="creacion_carta_items()">Item, Arma, Habilidad</button>
        </div>
        
      </div>
    </div>

  </main>
  <script src="/inventario/js/nav.js"></script>
  <script src="/inventario/js/vistaCrea.js"></script>
  <script src="/inventario/js/paginacion.js"></script>
  <script src="/inventario/js/miCuenta.js"></script>
  <script src="/inventario/js/modificacionInv.js"></script>
  <script src="/inventario/js/index.js" type="module"></script>
  <script src="/inventario/js/jugarOnline.js"></script>
  <script src="/inventario/js/tipo_crea.js"></script>
  <script src="/inventario/js/vista_crea_items.js"></script>
</body>
</html>
